<div class="chart-container-wrapper" *ngIf="!loadingWorkordersFailed">
  <!-- canvas objects -->

  <!-- four month comparison -->
  <app-four-months-period
    *ngIf="showFourMonthsPeriodChart"
    class="chart-container"
    [workorders]="workorders"
    [section]="section"
    (chartPlotted)="updateChartPlotted($event)"
    (switchChart)="switchChart($event)"
  ></app-four-months-period>

  <!-- one month broken down to its weeks -->
  <app-one-month-period 
  *ngIf="showOneMonthPeriodChart"
  class="chart-container"
  [cost]="cost"
  [month]="month"
  [section]="section"
  [monthsWithYears]="monthsWithYears"
  (switchChart)="switchChart($event)"
  ></app-one-month-period>

  <!-- filter fields -->
  <div *ngIf="chartPlotted" class="filter-charts">
    <div class="filter-charts-label" *ngIf="!chartPlotted">
      Select Maintenance Cost Section
    </div>
    <div class="filter-charts-label" *ngIf="chartPlotted">Filter Charts</div>
    <div class="filter-sections">
      <mat-form-field class="filter-sections-field" appearance="outline">
        <mat-label>Select Section</mat-label>
        <mat-select
          #sectionsFilterField
          (selectionChange)="updateSectionToDisplay(sectionsFilterField.value)"
        >
          <mat-option
            *ngFor="let section of factorySections"
            value="{{ section }}"
            >{{ section }}</mat-option
          >
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</div>

<!-- could not load workorders -->
<div *ngIf="loadingWorkordersFailed" class="chart-container">
  {{ indexingError ? indexingError : otherError ? otherError : fallbackError }}
</div>
